include(ExternalProject)

set(VTK_PROJECT_PREFIX ${CMAKE_CURRENT_BINARY_DIR}/installs/vtk)
set(VTK_INSTALL_PREFIX ${VTK_PROJECT_PREFIX}/install)
set(VTK_INSTALL_INCLUDE_DIR ${VTK_INSTALL_PREFIX}/include)
ExternalProject_Add( vtk_build
    GIT_SHALLOW ON
    #GIT_TAG "${LIBPNG_GIT_TAG}"
    GIT_REPOSITORY "${CMAKE_CURRENT_SOURCE_DIR/vtk}"
    PREFIX "${VTK_PROJECT_PREFIX}"
    SOURCE_DIR "${CMAKE_CURRENT_SOURCE_DIR}/vtk"
    BINARY_DIR "${CMAKE_CURRENT_BINARY_DIR}/vtk"
    INSTALL_DIR "${VTK_INSTALL_PREFIX}"
    BUILD_COMMAND make -j32
    CMAKE_ARGS -DCMAKE_INSTALL_PREFIX=${VTK_INSTALL_PREFIX}
               -DCMAKE_BUILD_TYPE=Release
               -DCMAKE_C_FLAGS_RELEASE=${CMAKE_C_FLAGS_RELEASE}
               -DCMAKE_C_FLAGS_DEBUG=${CMAKE_C_FLAGS_DEBUG}
               -DCMAKE_C_FLAGS_MINSIZEREL=${CMAKE_C_FLAGS_MINSIZEREL}
               -DCMAKE_C_FLAGS_RELWITHDEBINFO=${CMAKE_C_FLAGS_RELWITHDEBINFO}
               -DCMAKE_POSITION_INDEPENDENT_CODE=ON
               -DVTK_BUILD_EXAMPLES=ON
              # -DVTK_GROUP_ENABLE_Qt=WANT
             #  -DVTK_GROUP_ENABLE_Views=WANT
)
